<template>

    <div id="top-cart" >
        <a href="#" id="top-cart-trigger"><i class="icon-shopping-cart"></i><span>{{ count.length}}</span></a>
        <div class="top-cart-content">
            <div class="top-cart-title">
                <h4>Корзина</h4>
            </div>
            <div class="top-cart-items" >
                <div class="top-cart-item clearfix" v-for="product in count" v-if="!userId">
                    <div class="top-cart-item-image">
                        <a href="#"><img src="https://via.placeholder.com/64"
                                         alt="Blue Round-Neck Tshirt"/></a>
                    </div>
                    <div class="top-cart-item-desc">
                        <a href="#">{{product.name}}</a>
                        <span class="top-cart-item-price">$ {{product.price}}</span>
                        <span class="top-cart-item-quantity">x 2</span>
                    </div>
                </div>
                <div class="top-cart-item clearfix" v-for="product in count" v-if="userId">
                    <div class="top-cart-item-image">
                        <a href="#"><img src="https://via.placeholder.com/64"
                                         alt="Blue Round-Neck Tshirt"/></a>
                    </div>
                    <div class="top-cart-item-desc">
                        <a href="#">{{product.product_name}}</a>
                        <span class="top-cart-item-price">$ {{product.product_price}}</span>
                        <span class="top-cart-item-quantity">x 2</span>
                    </div>
                </div>

            </div>
            <div class="top-cart-action clearfix">
                <span class="fleft top-checkout-price">$114.95</span>
                <a class="button button-3d button-small nomargin  " href="/cart">View Cart</a>

            </div>
        </div>
    </div><!-- #top-cart end -->
</template>


<script>

    export default {
        name: "cart-preview",
        computed: {
            count(){
                return this.$store.state.products || []
            },
            userId(){
                return this.$store.state.userId
            }
        },

    }
</script>

<style scoped>

</style>